const app={init:()=>{document.addEventListener("DOMContentLoaded",app.load),console.log("DOM Loaded")},load:()=>{app.bindingInteraction(),app.bindingComponentInteraction()},bindingComponentInteraction:()=>{},alert:()=>{document.querySelector("close-btn").addEventListener("click",function(e){document.querySelector("alert").classList.remove("show"),document.querySelector("alert").classList.add("hide")})},bindingInteraction:()=>{let e=document.body.id,t=document.querySelectorAll("section")[0].id,a=document.querySelector(".content-container").querySelector(".content-form").classList[0];switch(e){case"home":case"category":case"product-detail":app.navbarInteractions();break;case"dashboard-page":app.dragAndDropUploader(),app.dashboardInteractions();break;default:console.log("Log out something else")}switch(t){case"login":case"register":app.formValidation()}switch(a){case"content-form":app.formValidation(),console.log("Component Loaded")}},dragAndDropUploader:()=>{document.querySelectorAll(".drop-image__holder").forEach(e=>{const t=e.closest(".drop-image");t.addEventListener("click",t=>{e.click()}),e.addEventListener("change",o=>{e.files.length&&a(t,e.files[0])}),t.addEventListener("dragover",e=>{e.preventDefault(),t.classList.add("drop-image--over")});function a(e,t){let a=e.querySelector(".drop-image__thumbnail");if(e.querySelector(".drop-image__prompt")&&e.querySelector(".drop-image__prompt").remove(),a||((a=document.createElement("div")).classList.add("drop-image__thumbnail"),e.appendChild(a)),a.dataset.label=t.name,t.type.startsWith("image/")){const e=new FileReader;e.readAsDataURL(t),e.onload=(()=>{a.style.backgroundImage=`url(${e.result})`})}}["dragleave","dragend"].forEach(e=>{t.addEventListener(e,e=>{t.classList.remove("drop-image--over")})}),t.addEventListener("drop",o=>{o.preventDefault(),o.dataTransfer.files&&(e.files=o.dataTransfer.files,a(t,o.dataTransfer.files[0])),t.classList.remove("drop-image--over")})})},formValidation:()=>{document.querySelectorAll(".form-group[data-error] .form-control").forEach(e=>{e.addEventListener("input",()=>e.parentElement.removeAttribute("data-error"))})},dashboardInteractions:()=>{const e=document.querySelector(".sidebar-toggler"),t=document.querySelector("#dashboard-sidebar"),a=document.querySelector("#dashboard");e.addEventListener("click",()=>{t.classList.toggle("active"),a.classList.toggle("shrink")}),document.querySelector(".accordion-header").addEventListener("click",function(e){this.nextElementSibling.classList.toggle("active"),this.classList.toggle("active")})},navbarInteractions:()=>{const e=document.querySelector(".nav-menu-toggler"),t=document.querySelector(".sidebar");e.addEventListener("click",function(e){this.classList.toggle("active"),t.classList.toggle("active")}),document.querySelector(".dropdown-button").addEventListener("click",function(e){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("active")});const a=document.querySelector(".search-toggler"),o=document.querySelector(".search-bar"),r=document.querySelector(".navbar");a.addEventListener("click",()=>{o.classList.toggle("search-bar-show"),r.classList.remove("navbar-show")}),document.querySelector(".search-box-exit").addEventListener("click",function(e){this.parentElement.parentElement.classList.remove("search-bar-show"),document.querySelector(".navbar").classList.add("navbar-show")})}};app.init();